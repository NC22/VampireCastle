<html>
<head>
    <title>Лисье королевство и Вампирский замок</title>

    <link href="style.css" rel="stylesheet">

    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1">
    <meta name="author" content="nradiowave">	    
    <meta property="og:locale" content="ru_RU">
</head>
<body>

<div class="nw-page">
    <div><a href="https://github.com/NC22/VampireCastle/tree/main" style="
        color: #fff;
        font-size: 15px;
        display: inline-block;
    " target="_blank">Радиоволновое</a></div>
    <h1 class="top" style="color: #cdcdcd; margin-top : 0;">Лисье королевство и Вампирский замок</h1>

    <div class="nw-menu">
        <div class="nw-page-block nw-menu-block">
            
            <ul class="nw-characters nw-scroll">
                <li><a href="#world"><img src="img/avatars/world.png">Описание мира</a></li>
                <li><a href="#castle"><img src="img/avatars/castle.png">Вампирский замок</a></li>
            </ul>
            
            <h3>&#9660; Досье</h3>
            
            <ul class="nw-characters nw-scroll">
                <li><a href="#masha"><img src="img/avatars/masha.png">Маша</a></li>
                <li><a href="#olesya"><img src="img/avatars/olesya.png">Феечка Олеся</a></li>
                <li><a href="#ruta"><img src="img/avatars/ruta.png">Рута</a></li>
                <li><a href="#help"><img src="img/avatars/help.png">Работяга-подручный</a></li>
                <li><a href="#vampi"><img src="img/avatars/vampi.png">Вампирша</a></li>
                <li><a href="#katya"><img src="img/avatars/katya.png">Катерина и робо-стражи</a></li>
            </ul>
            <!--h3>Описание мира</h3>
            
            <ul>
                <li><a href="#masha">Описание концепта</a></li>
                <li><a href="#masha">Источники вдохновения</a></li>
            </ul-->
        </div>
    </div>


    <div class="nw-page-blocks">
        
            <div class="nw-page-block" id="world">
        
            <h2>Описание мира</h2>
            
            <div class="nw-page-block-content">
            
                <p>Общий визуал и технологии придерживаются около-средневекового сеттинга.</p>
                <p>В мире есть магия, мифические существа вроде феечек, эльфов, а также скрытые астральные пространства с магическими существами которые могут представлять опасность если им удастся выбраться.</p>
                <p>Большинство робо-механизмов которые могут выглядеть чуть более 
                функционально-современно чем общий уровень технологий этого мира обычно построены на принципе магических-марионеток и оживают исходя из того какие функции в них заложил маг \ ведьма. 
                Инженерное дело развивается параллельно в синергии с магией. Для определенных функциональных элементов, подвижных устройств и роботов можно придерживатся концепции заводных механизмов - любые подвижные 
                части можно дополнять шестеренками где это смотрится органично</p>
                
                <b>Как работают робо-девочки стражи, есть ли у них душа ?</b>
                <p>Если брать конкретно рободевочек-стражей - они являются по сути альтерэго их создателей - они живут пока жив их создатель, имеют частичку его души \ характера, испытывают эмоции и подпитываются маной \ энергией родителя - 
                как правило созданием таких автоматонов занимаются опытные маги.</p>
                <p>Оживление других стражей, механических марионеток-пешек обычно не преследует наследования персональных 
                качеств и они создаются по более простому принципу и обычно имеют какую то конкретную цель-задачу и 
                живут пока не закончится запас маны или не будет достигнута цель.</p>
                
                <b>Локации</b>
                <p>Ключевые точки интереса включают в себя</p>
                <ul class="nw-scroll">
                    <li><b>Столица Королевства лисичек</b> - средне процветающий город с центральным замком и множеством жилых домиков. Основная часть города защищена крепостными стенами.</li>
                    <li><b>Запретный лес</b> - магический лес с большим количеством источников силы - расположен относительно далеко от города, является источником различных магических тварей и монстров. Опасность предствляют отдельные заблудшие монстры и живность из него. Хоть опасный лес хороший способ испытать свои силы магам, 
                    многие боятся туда соватся даже за вознаграждение.</li>
                    <li><b>Вампирский замок в астральном мире</b> - запечатанный основной источник опасных магических существ</li>
                </ul>
                
                <h3>Королевство лисичек</h3>
                <p><a href="#ruta">Рута</a>, её подручный и рободевочки относятся к Королевству лисичек. Королевская семья и многие простые жители столицы выделяются
                характерными ушками и хвостиками; обмундирование, общая эстетика окружения может также использовать эти элементы.</p>
                <p>На королевство периодически нападают вражеские робо-пешки и в округе за стенами замка как правило бывает не безопасно - хоть и не все жители могут жить 
                только в стенах замка - посевные поля и часть поселений находится поблизости и менее защищена.
                Основную опасность представляет запретный лес - где скопилось большое количество пауков, также могут представлять опасность вражеские робо-пешки разведчики</p>
                          
                          
                <div class="previews" data-key="world" data-rendered="1">
                    <div class="preview world-preview" data-image="orig/foxkingdom/1.png" style="background-image : url('img/look/foxkingdom/1.png')"></div>
                    <div class="preview world-preview" data-image="orig/foxkingdom/2.png" style="background-image : url('img/look/foxkingdom/2.png')"></div>
                    <div class="preview world-preview" data-image="orig/foxkingdom/3.png" style="background-image : url('img/look/foxkingdom/3.png')"></div>
                    <div class="preview world-preview" data-image="orig/foxkingdom/4.png" style="background-image : url('img/look/foxkingdom/4.png')"></div>
                    <div class="preview world-preview" data-image="orig/foxkingdom/5.png" style="background-image : url('img/look/foxkingdom/5.png')"></div>
                    <div class="preview world-preview" data-image="orig/foxkingdom/6.png" style="background-image : url('img/look/foxkingdom/6.png')"></div>
                    
                    <div style="clear : both"></div>
                </div>
            </div>
        </div>
        
    
        <div class="nw-page-block" id="ruta">
            
            <div class="nw-page-character-info">
                <img src="img/avatars/ruta256.png">
                <div>
                    <h2>Рута</h2>
                    <p>Пол : Женский</p>
                    <p>Возраст : 24 года</p>
                </div>
                <div style="clear : both"></div>
            </div>
            
            
            <div class="nw-page-block-content">
            
            <p>Лисичка-координатор королевского отдела разработки и защиты. Жизнерадостная и увлеченная работой девушка, не имеет магических способностей. По профессии занимается инженерным делом и в основном на ее плечах проектирование форм и механических частей роботов.</p>
            <p>Оживление робо-девочек проходит совместно с участием магов которые комбинируют души как самой Руты так и свои и создают персоналии для новых робо-стражей.</p>
            <p>Под ее руководством изготовлено множество рободевочек-стражей и других защитных роботов. Соответственно многие рободевочки тесно связаны с ней.</p>
            <p>По скольку она ответственна за весь отдел разработки, также занимается поиском полезных кадров себе в команду, в частности магов.</p> 
            <p>Из за излишней самоуверенности решила самостоятельно отправится исследовать местный лес без должной защиты т.к. слышала что там можно найти опытную ведьму - Машу, которая могла бы быть полезна в ее работе.</p> 
            <p>Факты :</p>
            <ul class="nw-scroll">
                <li>Имеет плохое зрение, но часто забывает или теряет свои очки</li>
                <li>В хороших отношениях со <a href="#help">своим подручным</a>, иногда гладят друг-другу хвостики</li>
            </ul>
            </div>           
           <div class="previews" data-key="ruta" data-num="6"></div>     
        </div>
        
        <div class="nw-page-block"  id="masha">
        
      
            <div class="nw-page-character-info">
                <img src="img/avatars/masha256.png">
                <div>
                    <h2>Маша</h2>
                    <p>Пол : Женский</p>
                    <p>Возраст : 21 год</p>
                </div>
                <div style="clear : both"></div>
            </div>
            
            <div class="nw-page-block-content">
                <p>Ведьмочка. Жила одиночкой в лесу поодаль от Королевства лисичек. В основном занимается собирательством и практикуется в магии. Следит за тем что происходит в королевстве и иногда выполняет охоту за вознаграждение на
                монстров, устранение опасностей за которые королевская администрация дает награду. В какой то момент к ней навязалась феечка Олеся которую Маша спасла в лесу от пауков. Маша привыкла жить одна но не стала выгонять феечку потому что феечка старалась быть полезной.</p> 
                <p>Одержима поиском источников маны и организовала себе жилище недалеко от основных точек силы куда и часто делает вылазки для магических практик. В виду ее достаточных магических способностей лес для нее уже давно не представляет опасности хотя помимо животных там также могут встречатся враждебные робо-пешки</p>
                
                <p>Факты</p>
                <ul class="nw-scroll">
                    <li>Не всегда точно контролирует расход маны и может не рассчитать силы, что выливается в сильную переутомляемость и дальнейший внезаптный сон</li>
                    <li>Хорошо знает <a href="#vampi">Вампиршу</a> и иногда навещает ее, помогает ей в поиске добровольцев для помощи в замке</li>
                </ul>
            
            </div>
            
                              
           <div class="previews" data-key="masha" data-num="6"></div>                  
                        
        </div>
        
        <div class="nw-page-block"  id="olesya">
        
      
            <div class="nw-page-character-info">
                <img src="img/avatars/olesya.png">
                <div>
                    <h2>Феечка Олеся</h2>
                    <p>Пол : Женский</p>
                    <p>Возраст : неизвестно</p>
                </div>
                <div style="clear : both"></div>
            </div>
            
            <div class="nw-page-block-content">
                <p>Любопытная феечка прилетевшая из дальних краев.
                Сами по себе феечки в лисьих местах не являются чем то особенным, но редко уживаются в обществе и встречаются не так часто т.к. их мало кто воспринимает всерьез и берет на работу.</p>
                
                <p>Вела беззаботный образ жизни и в основном занималась мелким воровством, собирая себе продукты на пропитание.
                Из-за скуки периодически летала в разные места по округе и не знала опасности запретного леса, где чуть не была съедена пауками и спасена Машей</p> 
                
                <p>Факты</p>
                <ul class="nw-scroll">
                    <li>По характеру довольно вредная, но всегда слушается <a href="#masha">Машу</a></li>
                    <li>Любит свежие ягоды. Очень легко может поменять отношение к человеку если тот подарит ей свежую клубнику</li>
                </ul>
            
            </div>
            
            
            
                              
           <div class="previews" data-key="olesya" data-num="5"></div>       
            
        </div>
        
        <div class="nw-page-block" id="vampi">
            
            <div class="nw-page-character-info">
                <img src="img/avatars/vampi.png">
                <div>
                    <h2>Вампирша</h2>
                    <p>Пол : Женский</p>
                    <p>Возраст : более 100 лет. Точный возраст неизвестен</p>
                </div>
                <div style="clear : both"></div>
            </div>
            
            <div class="nw-page-block-content">
                <p>В прошлой жизни была эльфом-рыцарем и служила в лисьем королевстве. Устала от всего на свете. Однажды исследуя вампирское логово получила укус и сама обрекла себя на то чтобы стать вампиром.</p> 
                <p>Долгое время продолжала жить в замке который принадлежал вампирам и обустроила его под себя. Вела ночной образ жизни и постепенно стала терять понимание нормальности, поскольку не могла безопасно взаимодействовать с людьми. 
                Её вампирский замок со временем стал пристанищем большого количества магических монстров, пауков и другой живности, живность поместья распространялась по близлежащим лесам и полям и портила жизнь окружающим.
                В конечном счете за уничтожение её и искоренение всей магической живности что обитает в ее замке была объявлена награда.</p>
                <p>Маша взялась в качестве охотницы устранить вампиршу, но решила сохранить ей жизнь т.к. вампирша не растеряла остатки человечности и сама по себе опасности не представляет, а основная проблема кроется в магических артефактах в самом замке которые притягивают различных опасных существ. Саму же вампиршу по всей видимости эти существа никак не обижают и чтобы вампирша могла и дальше спокойно жить Маша попробовала исполнить сильное заклинание с помощью которого Вампирша была заточена в астральном мире со всем замком. 
                Часть пауков замка осталась в лесу, но замок и большая часть живности была устранена</p>
                <p>Весь замок был перенесен в астральный мир - сохранилась почти вся архитектура и живность замка. </p>
                <p>Через Машу некоторые отважные путники иногда могут попасть к вампирше в гости или по объявлению - вампирше нужно поддерживать чистоту в замке и бороться с пауками - по этому периодически она дает завуалированные объявления о поиске подходящих смелых горничных.
                Пауки и прочие магические монстры вампиршу не трогают, а вот для случайных гостей могут представлять опасность. 
                Чтобы вернуть поместью былой вид нужно устранить все логова монстров которыми успел порасти замок. 
                Вампирша рада любой новой прислуге и гостям - она давно ни с кем не общалась но только безрассудные или очень смелые могут работать у нее.</p>
                
                <p>По скольку <a href="#ruta">Рута</a> хорошо знает <a href="#masha">Машу</a>, она могла напросится к Вампирше в гости из любопытства или по поручению самой Маши. 
                Для Вампирши любые новые люди вызывают большой интерес, потому она будет стараться всячески привлечь внимание Руты и вести себя прилично</p>
                
                <p>Когда же гостей нет, Вампирша справляется с одиночеством воспитывая и командуя своим питомцем-летучей мышью Расселом. Они понимают друг-друга. Рассел довольно ленивый и привык к тому что о нем излишне заботятся, но если хорошо попросить может сделать 
                что-нибудь полезное</p>
                
                
                <p>Факты</p>
                <ul class="nw-scroll">
                    <li>Иногда может вести себя излишне гиперактивно и странно ввиду долгого пребывания в одиночестве </li>
                    <li>Не нападает на людей и старается вести себя прилично</li>
                </ul>
                
           </div>
           
           <div class="previews" data-key="vampi" data-num="5"></div>
        </div>
        
                
        <div class="nw-page-block" id="castle">
            
            <div class="nw-page-character-info">
                <img src="img/avatars/castle.png">
                <div>
                    <h2>Вампирский замок</h2>
                </div>
                <div style="clear : both"></div>
            </div>
            
            <div class="nw-page-block-content">
                  
            <p>Вампирский замок был перенесен в астральный мир Машей и находится в упадническом состоянии. Замок на первый взгляд не кишит магическими существами и пауками, но в основном они прячутся в его темных уголках</p>
            <p>Сам же замок очень большой и имеет зоны как с отдельными поместьями для выходного отдыха былой аристократии, так и основной комплекс. Архитектура как мне представляется должна быть выдержана в готическом стиле</p>
            <p>Часть построек и элементов уже разрушены и в астральном мире находятся на левитирующих островках и уцелевших осколках</p>
            <p>В иллюстрациях много разных не доведенных до ума идей, концепты прошлых служанок-лисичек, самой вампирши и ее окружения</p>
            
           </div>
           
           <div class="previews" data-key="castle" data-num="13"></div>
        </div>
        
        <div class="nw-page-block"  id="help">
        
      
            <div class="nw-page-character-info">
                <img src="img/avatars/help256.png">
                <div>
                    <h2>Работяга-подручный Гасс</h2>
                    <p>Пол : Мужской</p>
                    <p>Возраст : 25 лет</p>
                </div>
                <div style="clear : both"></div>
            </div>
            
            <div class="nw-page-block-content">
                <p>Обычный работяга из финансового отдела, ранее занятый в основном исключительно бумажной волокитой. Характер спокойный, старается лишний раз не отсвечивать и по возможности бездельничать. 
                    Из-за перераспределения попал в отдел разработки к Руте в качестве испытуемого. На испытаниях в основном приходится быть живой мишенью для тестирования подвижности и приемов робо-стражей.</p>
                <p>Все необходимые меры безопасности предусмотрены лично Рутой, и роботы сами не хотят навредить лисичкам на тренировке, но подобные испытания сильно выматывают, потому что силы робо-механизмов как правило не сопоставимы с обычной неподготовленной лисичкой.</p>
                <p>В те дни когда испытания не проводятся или если не чем заняться на работе, "мишень" обычно продолжает вести бумажные дела и отчетность по проведенным испытаниям \ занимается переписыванием технической документации к роботам и т.п.
                </p> 
                <p>Факты</p>
                <ul class="nw-scroll">
                    <li>Поначалу совсем не имеет боевого опыта, но выглядит солидно благодаря доспехам изготовленным на заказ</li>
                    <li>Старался защищать Руту от вражеской пешки в запретном лесу, за что она ему очень благодарна</li>
                </ul>
            
            </div>
            
                                      
            <div class="previews" data-key="help" data-num="5"></div>
            
        </div>
        
        <div class="nw-page-block" id="katya">
            
            <div class="nw-page-character-info">
                <img src="img/avatars/katya.png">
                <div>
                    <h2>Катерина и робо-стражи</h2>
                </div>
                <div style="clear : both"></div>
            </div>
            
            <div class="nw-page-block-content">
                  
            <p>Катерина - одна из робо-девочек стражей. За счет высокого роста выглядит устрашающе. Сама по себе очень добрая и любознательная, является любимицей длинноухой принцессы. Создана королевским отделом разработки. Для нее первостепенной является защита королевской семьи. </p>
            <p>При дворе может быть много рободев - совместная разработка королевских магов и инженеров. Они могут как выполнять поручения так и быть вовлечены в социальную жизнь и просто радовать глаз окружающих</p>
           
           </div>
           
           <div class="previews" data-key="katya" data-num="8"></div>
        </div>
    
    
        
    </div>
    
    <div style="clear : both;"></div>
</div>


<script src="js/kellyImageView.js?v=120824"></script>
<script>

    
    var getScrollTop = function() {

        var scrollTop = (window.pageYOffset || document.documentElement.scrollTop) - (document.documentElement.clientTop || 0);
        return scrollTop;
    }

    var getViewport = function() {

        var elem = (document.compatMode === "CSS1Compat") ? document.documentElement : document.body;    
        return { screenHeight: elem.clientHeight, screenWidth: elem.clientWidth };
    }
    
    var isInViewport = function(el, offset) {
        var rect = el.getBoundingClientRect();
        
        if (el.getAttribute('data-key') == 'ruta'){
        
        console.log(getScrollTop() + getViewport().screenHeight + offset);
        console.log(rect.y + getScrollTop());
        }
        if (getScrollTop() + getViewport().screenHeight + offset > rect.y + getScrollTop()) {
            return true;
        }
    }
    
    var renderPreviews = function(container) {    
        container.querySelectorAll('.preview').forEach(preview => {
            preview.style.backgroundImage = "url(img/look/" + preview.getAttribute('data-info-key') + '/' + preview.getAttribute('data-info-n') + '.png)';
        });
    }

    var updateDynPos = function() {
        
        var menu = document.getElementsByClassName('nw-menu-block')[0];
        if (getViewport().screenWidth < 1000) {
            menu.classList.remove('nw-menu-block-fixed');
            
        } else {
        
            var header = document.querySelector('.nw-page-blocks .nw-page-block');
            var fixedHeight = header.getBoundingClientRect().y + getScrollTop() + 16;
            var width = 0;
            
            if (!menu.getAttribute('data-width')) {
                width = menu.getBoundingClientRect().width;
                menu.setAttribute('data-width', width);
            } else {
                width = parseInt(menu.getAttribute('data-width'));
            }
            
            if (getScrollTop() > fixedHeight) {
                menu.classList.add('nw-menu-block-fixed');
                menu.style.width = width + 'px';
            } else {
                menu.classList.remove('nw-menu-block-fixed');
                menu.style.width = '';
                menu.removeAttribute('data-width');
            }
        }
        
        document.querySelectorAll('.previews[data-num]').forEach(container => {
            if (!container.getAttribute('data-rendered') && isInViewport(container, 200)) {
                renderPreviews(container);
                container.setAttribute('data-rendered', 1);
            }
        });
    }
    
    document.querySelectorAll('.previews[data-num]').forEach(container => {
        var num = parseInt(container.getAttribute('data-num'));
    
        //  <div class="preview world-preview" data-image="orig/katya/6.png" style="background-image : url('img/look/katya/6.png')"></div>
        for (var i = 0; i < num; i++) {
            var image = document.createElement('DIV');
                image.className = 'preview ' + container.getAttribute('data-key') + '-preview';
                image.setAttribute('data-image', "orig/" + container.getAttribute('data-key') + '/' + (i+1) + '.png');
                
                image.setAttribute('data-info-n', i+1);
                image.setAttribute('data-info-key', container.getAttribute('data-key'));
                
            container.appendChild(image);
        }
        
        var end = document.createElement('DIV');
            end.style.clear="both";
            
            container.appendChild(end);
    });
    
    window.addEventListener('resize', updateDynPos);
    window.addEventListener('scroll', updateDynPos);
    
    updateDynPos();
    
    
    document.querySelectorAll('.nw-scroll a').forEach(function(anchor) {
    
        anchor.addEventListener('click', function(e) {
        
            console.log(1);
            e.preventDefault();
            
            var targetID = this.getAttribute('href').substring(1);
            var targetElement = document.getElementById(targetID);
            if (targetElement) {
            
            
                var offset = 16; 
                var bodyRect = document.body.getBoundingClientRect().top;
                var elementRect = targetElement.getBoundingClientRect().top;
                var elementPosition = elementRect - bodyRect;
                var offsetPosition = elementPosition - offset;

                window.scrollTo({
                  top: offsetPosition,
                  behavior: 'smooth'
                });
                
              //  targetElement.scrollIntoView({
              //   behavior: 'smooth'
              // });
            }
        });
      
    });
    
    
	var galleryBlocks = document.getElementsByClassName('previews');		
	if (galleryBlocks.length > 0) {
					
	
        var imgView = document.createElement('div');
            imgView.className = 'gallery-ImgView';
            document.body.appendChild(imgView);
            
            imgViewer = new KellyImgView({
                className : 'gallery-ImgView', 
                viewerBlock : imgView, 
                lazyHand : true,
                zoomByMouse : true,
                moveable : false, 
                swipe : true, 
                // lockMoveMethod : 'hideScroll',
                // removePrevViewData : false,
                lockMoveMethod : 'lockMove',
                userEvents : {
                    onClose : function() {},						
                    onNextImage : function(self, nextImage, action) { },
                    onShow : function(self, show) {},						
                    onImageLoadFail : function(self) {
                        
                        self.cancelLoad();
                        
                        //handler.getTooltip().resetToDefaultOptions();                        
                        //handler.getTooltip().setMessage(lng.s('Не удалось загрузить изображение', 'image_fail'));                        
                        //handler.getTooltip().show(true);
                        
                    }
                },
            });
    
            imgViewer.addBaseButtons();				
            
            for (var i = 0; i < galleryBlocks.length; i++) {
                imgViewer.addToGallery(galleryBlocks[i].getAttribute('data-key') + '-preview', galleryBlocks[i].getAttribute('data-key'));
            }
        
	}
</script>

</body>
</html>